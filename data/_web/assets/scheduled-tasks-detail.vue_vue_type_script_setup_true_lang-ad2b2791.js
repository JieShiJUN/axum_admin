import{i as e,p as t,k as u,H as l}from"./index.js";import{D as a}from"./dict-tag-15f2a908.js";import{d as V}from"./dict-2940434e.js";const o={key:0},r={key:1},n={key:0},d={key:1},i={key:0},s={key:1},m={key:2},c={key:3},f={class:"dialog-footer"},E=Vue.defineComponent({__name:"scheduled-tasks-detail",props:{jobId:{type:String,required:!0},openDetail:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["closeDialog"],setup(E,{emit:p}){const C=E,x=Vue.ref({}),{t:_}=VueI18n.useI18n({useScope:"global"}),N=e(V.sysJobGroup),w=()=>{p("closeDialog")};return(async()=>{const{data:e,execute:t}=u(l.getById,{job_id:C.jobId});await t(),x.value=e.value})(),(e,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDialog),{modelValue:E.openDetail,"onUpdate:modelValue":u[0]||(u[0]=e=>Vue.isRef(openDetail)?openDetail.value=e:null),"before-close":w,title:E.title,"append-to-body":"",width:"680px"},{footer:Vue.withCtx((()=>[Vue.createElementVNode("div",f,[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:w},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(_)("common.close")),1)])),_:1})])])),default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElForm),{model:x.value,"label-width":"120px",class:"base-form"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElRow),{gutter:2},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"任务ID:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.task_id),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"任务分组:"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{options:Vue.unref(N)[Vue.unref(V).sysJobGroup],value:x.value.job_group},null,8,["options","value"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"任务名称:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.job_name),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"创建时间:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.created_at),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"cron表达式:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.cron_expression),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"执行次数:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.task_count),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"上次执行时间:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(t)(x.value.last_time)),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"调用目标方法:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.invoke_target),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"下次执行时间:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(t)(x.value.next_time)),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"调用目标参数:"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(x.value.job_params),1)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"任务状态:"},{default:Vue.withCtx((()=>["1"===x.value.status?(Vue.openBlock(),Vue.createElementBlock("div",o,"正常")):"0"===x.value.status?(Vue.openBlock(),Vue.createElementBlock("div",r,"暂停")):Vue.createCommentVNode("",!0)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"是否并发:"},{default:Vue.withCtx((()=>["1"===x.value.concurrent?(Vue.openBlock(),Vue.createElementBlock("div",n,"允许")):"0"===x.value.concurrent?(Vue.openBlock(),Vue.createElementBlock("div",d,"禁止")):Vue.createCommentVNode("",!0)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"执行策略:"},{default:Vue.withCtx((()=>["0"===x.value.misfire_policy?(Vue.openBlock(),Vue.createElementBlock("div",i,"默认策略")):"1"===x.value.misfire_policy?(Vue.openBlock(),Vue.createElementBlock("div",s,"立即执行")):"2"===x.value.misfire_policy?(Vue.openBlock(),Vue.createElementBlock("div",m,"执行一次")):"3"===x.value.misfire_policy?(Vue.openBlock(),Vue.createElementBlock("div",c,"放弃执行")):Vue.createCommentVNode("",!0)])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:24},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"备注:"},{default:Vue.withCtx((()=>[Vue.createElementVNode("pre",null,Vue.toDisplayString(x.value.remark),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]))}});export{E as _};
