import{t as e,k as t,h as a,l}from"./index.js";import{_ as u}from"./_plugin-vue_export-helper-0909ef10.js";const n=(a,l,u)=>{const n=Vue.ref([]),o=Vue.ref(0),i=async()=>{var i,p;u&&(l.value=e(l.value,null==u?void 0:u.value));const{data:s,execute:r}=t(a,l);await r(),n.value=null==(i=s.value)?void 0:i.list,o.value=null==(p=s.value)?void 0:p.total};return i(),{getListFn:i,list:n,total:o}},o=async(e,t,u,n,o,i,p)=>{const{i18n:s}=a(),{t:r}=s.global;let c=!1;const d=(null==p?void 0:p[t])?[null==p?void 0:p[t]]:u.value,g=(null==p?void 0:p[n])?null==p?void 0:p[n]:o.value;return await ElementPlus.ElMessageBox.confirm(r("commonTip.delete")+g+"?",r("commonTip.deleteTitle"),{type:"warning"}).then((async()=>{const t=Vue.ref({});t.value[i]=d;const{execute:a}=l(e,t);await a(),ElementPlus.ElMessage.success(r("commonTip.deleteSuccess")),c=!0})).catch((()=>{ElementPlus.ElMessage.info(r("commonTip.deleteCancel"))})),c},i={class:"pagination-container"},p=Vue.defineComponent({name:"pagination"}),s=u(Vue.defineComponent({...p,props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,30,50]},pagerCount:{type:Number,default:document.body.clientWidth<992?5:7},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},emits:["update:limit","pagination","update:page"],setup(e,{emit:t}){const a=e,l=Vue.computed({get:()=>a.page,set(e){t("update:page",e)}}),u=Vue.computed({get:()=>a.limit,set(e){t("update:limit",e)}});function n(e){l.value*e>a.total&&(l.value=1),t("pagination",{page:l.value,limit:e})}function o(e){t("pagination",{page:e,limit:u.value}),a.autoScroll&&scrollTo(0,800)}return(t,a)=>(Vue.openBlock(),Vue.createElementBlock("div",i,[Vue.createVNode(Vue.unref(ElementPlus.ElPagination),{"current-page":Vue.unref(l),"onUpdate:current-page":a[0]||(a[0]=e=>Vue.isRef(l)?l.value=e:null),"page-size":Vue.unref(u),"onUpdate:page-size":a[1]||(a[1]=e=>Vue.isRef(u)?u.value=e:null),background:e.background,layout:e.layout,"page-sizes":e.pageSizes,"pager-count":e.pagerCount,total:e.total,onSizeChange:n,onCurrentChange:o},null,8,["current-page","page-size","background","layout","page-sizes","pager-count","total"])]))}}),[["__scopeId","data-v-ef3c0657"]]);export{s as P,o as a,n as u};
