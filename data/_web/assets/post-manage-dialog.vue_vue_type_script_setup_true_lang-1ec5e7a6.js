import{i as e,m as l,o as u,E as t,n as a}from"./index.js";import{u as o}from"./useFormUtil-98c17c20.js";import{d as r}from"./dict-2940434e.js";const V={class:"dialog-footer"},n=Vue.defineComponent({__name:"post-manage-dialog",props:{postData:{type:Object,required:!0},open:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["closeDialog"],setup(n,{emit:s}){const d=n,m=Vue.ref({...d.postData}),i=Vue.ref(),{formValidate:p}=o(),{t:c}=VueI18n.useI18n({useScope:"global"}),f=e(r.sysNormalDisable),E=Vue.ref({post_name:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],post_code:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],post_sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}),_=()=>{s("closeDialog")};return(e,o)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDialog),{modelValue:n.open,"onUpdate:modelValue":o[6]||(o[6]=e=>Vue.isRef(open)?open.value=e:null),"before-close":_,title:n.title,"append-to-body":"",width:"600px"},{footer:Vue.withCtx((()=>[Vue.createElementVNode("div",V,[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{type:"primary",onClick:o[5]||(o[5]=e=>(async e=>{if(await p(e)){if(m.value.post_id){const{data:e,execute:a}=l(u.edit,m);if(await a(),e.value===t)return;ElementPlus.ElMessage.success(`更新 ${m.value.post_name} 成功`)}else{const{data:e,execute:l}=a(u.add,m);if(await l(),e.value===t)return;ElementPlus.ElMessage.success(`新增 ${m.value.post_name} 成功`)}_()}})(i.value))},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(c)("common.submit")),1)])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:_},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(c)("common.cancel")),1)])),_:1})])])),default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElForm),{ref:"postFormRef",model:m.value,rules:E.value,class:"base-form","label-width":"100px"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElRow),null,{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"岗位名称",prop:"post_name"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{modelValue:m.value.post_name,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value.post_name=e),placeholder:"请输入部门名称"},null,8,["modelValue"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"岗位编码",prop:"post_code"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{modelValue:m.value.post_code,"onUpdate:modelValue":o[1]||(o[1]=e=>m.value.post_code=e),maxlength:"20",placeholder:"请输入负责人"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElRow),null,{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"岗位排序",prop:"post_sort"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInputNumber),{modelValue:m.value.post_sort,"onUpdate:modelValue":o[2]||(o[2]=e=>m.value.post_sort=e),min:0,"controls-position":"right"},null,8,["modelValue"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"部门状态"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElRadioGroup),{modelValue:m.value.status,"onUpdate:modelValue":o[3]||(o[3]=e=>m.value.status=e)},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f)[Vue.unref(r).sysNormalDisable],(e=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElRadio),{key:e.value,label:e.value},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElRow),null,{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElCol),{span:24},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElFormItem),{label:"备注",prop:"remark"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{modelValue:m.value.remark,"onUpdate:modelValue":o[4]||(o[4]=e=>m.value.remark=e),maxlength:"50",placeholder:"请输入邮箱",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]))}});export{n as _};
