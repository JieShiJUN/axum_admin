import{_ as e,r as o,g as t}from"./index.74f0e013.js";const r=e=>(Vue.pushScopeId("data-v-77453986"),e=e(),Vue.popScopeId(),e),a={class:"register"},u=r((()=>Vue.createElementVNode("h3",{class:"title"},"LingDu后台管理系统",-1))),l={class:"register-code"},s=["src"],i={key:0},n={key:1},c={style:{float:"right"}},d=Vue.createTextVNode("使用已有账户登录"),V=r((()=>Vue.createElementVNode("div",{class:"el-register-footer"},[Vue.createElementVNode("span",null,"Copyright © 2018-2022 ruoyi.vip All Rights Reserved.")],-1)));var p=e({__name:"register",setup(e){const r=useRouter(),{proxy:p}=getCurrentInstance(),m=ref({username:"",password:"",confirmPassword:"",code:"",uuid:""}),g={username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:(e,o,t)=>{m.value.password!==o?t(new Error("两次输入的密码不一致")):t()},trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}]},f=ref(""),v=ref(!1),h=ref(!0);function w(){p.$refs.registerRef.validate((e=>{e&&(v.value=!0,o(m.value).then((e=>{const o=m.value.username;ElementPlus.ElMessageBox.alert("<font color='red'>恭喜你，您的账号 "+o+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((()=>{r.push("/login")})).catch((()=>{}))})).catch((()=>{v.value=!1,h&&y()})))}))}function y(){t().then((e=>{h.value=void 0===e.captchaOnOff||e.captchaOnOff,h.value&&(f.value="data:image/gif;base64,"+e.img,m.value.uuid=e.uuid)}))}return y(),(e,o)=>{const t=Vue.resolveComponent("svg-icon"),r=Vue.resolveComponent("el-input"),p=Vue.resolveComponent("el-form-item"),_=Vue.resolveComponent("el-button"),C=Vue.resolveComponent("router-link"),x=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",a,[Vue.createVNode(x,{ref:"registerRef",model:m.value,rules:g,class:"register-form"},{default:Vue.withCtx((()=>[u,Vue.createVNode(p,{prop:"username"},{default:Vue.withCtx((()=>[Vue.createVNode(r,{modelValue:m.value.username,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value.username=e),type:"text",size:"large","auto-complete":"off",placeholder:"账号"},{prefix:Vue.withCtx((()=>[Vue.createVNode(t,{"icon-class":"user",class:"el-input__icon input-icon"})])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(p,{prop:"password"},{default:Vue.withCtx((()=>[Vue.createVNode(r,{modelValue:m.value.password,"onUpdate:modelValue":o[1]||(o[1]=e=>m.value.password=e),type:"password",size:"large","auto-complete":"off",placeholder:"密码",onKeyup:Vue.withKeys(w,["enter"])},{prefix:Vue.withCtx((()=>[Vue.createVNode(t,{"icon-class":"password",class:"el-input__icon input-icon"})])),_:1},8,["modelValue","onKeyup"])])),_:1}),Vue.createVNode(p,{prop:"confirmPassword"},{default:Vue.withCtx((()=>[Vue.createVNode(r,{modelValue:m.value.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=e=>m.value.confirmPassword=e),type:"password",size:"large","auto-complete":"off",placeholder:"确认密码",onKeyup:Vue.withKeys(w,["enter"])},{prefix:Vue.withCtx((()=>[Vue.createVNode(t,{"icon-class":"password",class:"el-input__icon input-icon"})])),_:1},8,["modelValue","onKeyup"])])),_:1}),h.value?(Vue.openBlock(),Vue.createBlock(p,{key:0,prop:"code"},{default:Vue.withCtx((()=>[Vue.createVNode(r,{size:"large",modelValue:m.value.code,"onUpdate:modelValue":o[3]||(o[3]=e=>m.value.code=e),"auto-complete":"off",placeholder:"验证码",style:{width:"63%"},onKeyup:Vue.withKeys(w,["enter"])},{prefix:Vue.withCtx((()=>[Vue.createVNode(t,{"icon-class":"validCode",class:"el-input__icon input-icon"})])),_:1},8,["modelValue","onKeyup"]),Vue.createElementVNode("div",l,[Vue.createElementVNode("img",{src:f.value,onClick:y,class:"register-code-img"},null,8,s)])])),_:1})):Vue.createCommentVNode("v-if",!0),Vue.createVNode(p,{style:{width:"100%"}},{default:Vue.withCtx((()=>[Vue.createVNode(_,{loading:v.value,size:"large",type:"primary",style:{width:"100%"},onClick:Vue.withModifiers(w,["prevent"])},{default:Vue.withCtx((()=>[v.value?(Vue.openBlock(),Vue.createElementBlock("span",n,"注 册 中...")):(Vue.openBlock(),Vue.createElementBlock("span",i,"注 册"))])),_:1},8,["loading","onClick"]),Vue.createElementVNode("div",c,[Vue.createVNode(C,{class:"link-type",to:"/login"},{default:Vue.withCtx((()=>[d])),_:1})])])),_:1})])),_:1},8,["model"]),Vue.createCommentVNode("  底部  "),V])}}},[["__scopeId","data-v-77453986"],["__file","E:/LingDu/rust/poem/RuoYi-Vue3/src/views/register.vue"]]);export{p as default};
