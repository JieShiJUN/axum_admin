use casbin::{DefaultModel, Enforcer};
use SeaOrmCasbinAdapter::casbin::prelude::*;
use SeaOrmCasbinAdapter::SeaOrmAdapter;

#[tokio::main]
async fn main() {
    let db = SeaOrmAdapter::new("postgres://postgres:lingdu515639@127.0.0.1:25432/wk")
        .await
        .expect("数据库打开失败");
    let m = DefaultModel::from_file("config/casbin_conf/rbac_model.conf")
        .await
        .unwrap();
    let mut e = Enforcer::new(m, db).await.unwrap();
    e.add_policies(vec![vec!["9999".to_string(), "9999".to_string()]])
        .await
        .unwrap();
}
